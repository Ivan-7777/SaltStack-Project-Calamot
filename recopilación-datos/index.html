<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Configuración de Servicios</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 700px; margin: auto; }
    fieldset { margin-bottom: 20px; padding: 15px; }
    label { display: block; margin-top: 8px; }
    .hidden { display: none; }
  </style>
  <script>
    function toggleSection(service) {
      const section = document.getElementById(service + '-section');
      section.style.display = section.style.display === 'block' ? 'none' : 'block';
    }
  </script>
</head>
<body>

<h1>Configuración de Servicios</h1>

<form method="POST" action="recibir.php">

  <!-- Nombre de empresa -->
  <fieldset>
    <legend>Empresa</legend>
    <label>
      Nombre de la empresa:
      <input type="text" name="empresa" placeholder="Ej. TecnoCorp" required>
    </label>
  </fieldset>

  <!-- Selección de servicios -->
  <fieldset>
    <legend>Servicios a instalar</legend>
    <label>
      <input type="checkbox" name="services[]" value="wireguard" onclick="toggleSection('wireguard')"> WireGuard VPN
    </label>
    <label>
      <input type="checkbox" name="services[]" value="firewall" onclick="toggleSection('firewall')"> Firewall
    </label>
  </fieldset>

  <!-- WireGuard -->
  <fieldset id="wireguard-section" class="hidden" style="display:none;">
    <legend>WireGuard VPN</legend>
    <label>
      Puerto UDP:
      <input type="number" name="wireguard[port]" value="51820" required>
    </label>
    <label>
      IP de la red VPN (address):
      <input type="text" name="wireguard[address]" placeholder="Ej. 10.66.66.1/24" required>
    </label>
    <label>
      IP LAN estática del servidor VPN:
      <input type="text" name="wireguard[static_lan_ip]" placeholder="Ej. 192.168.0.10" required>
    </label>
    <label>
      Interfaz WAN del servidor VPN:
      <input type="text" name="wireguard[wan_interface]" placeholder="Ej. enp0s3" required>
    </label>
  </fieldset>

  <!-- Firewall -->
  <fieldset id="firewall-section" class="hidden" style="display:none;">
    <legend>Firewall</legend>
    <h4>WAN</h4>
    <label>
      IP:
      <input type="text" name="firewall[wan_ip]" placeholder="Ej. 10.1.105.200" required>
    </label>
    <label>
      Máscara:
      <input type="text" name="firewall[wan_mask]" placeholder="Ej. 24" required>
    </label>
    <label>
      Gateway:
      <input type="text" name="firewall[wan_gateway]" placeholder="Ej. 10.1.105.1" required>
    </label>
    <label>
      Interfaz:
      <input type="text" name="firewall[wan_interface]" placeholder="Ej. enp0s3" required>
    </label>

    <h4>LAN</h4>
    <label>
      IP:
      <input type="text" name="firewall[lan_ip]" placeholder="Ej. 192.168.0.1" required>
    </label>
    <label>
      Máscara:
      <input type="text" name="firewall[lan_mask]" placeholder="Ej. 24" required>
    </label>
    <label>
      Interfaz:
      <input type="text" name="firewall[lan_interface]" placeholder="Ej. enp0s8" required>
    </label>

    <h4>DMZ</h4>
    <label>
      IP:
      <input type="text" name="firewall[dmz_ip]" placeholder="Ej. 10.2.0.1" required>
    </label>
    <label>
      Máscara:
      <input type="text" name="firewall[dmz_mask]" placeholder="Ej. 16" required>
    </label>
    <label>
      Interfaz:
      <input type="text" name="firewall[dmz_interface]" placeholder="Ej. enp0s9" required>
    </label>
  </fieldset>

  <button type="submit">Guardar configuración</button>
</form>

</body>
</html>
